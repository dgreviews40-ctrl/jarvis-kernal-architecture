<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>JARVIS Kernel Architecture</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
      /* ============================================
         JARVIS RESPONSIVE LAYOUT SYSTEM
         ============================================ */
      
      html, body {
        height: 100%;
        width: 100%;
        overflow: hidden;
        margin: 0;
        padding: 0;
      }
      
      body {
        background-color: #050505;
        color: #e0e0e0;
        font-family: 'Inter', sans-serif;
      }
      
      .font-mono {
        font-family: 'JetBrains Mono', monospace;
      }
      
      /* Custom scrollbar for terminal feel */
      ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      ::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.2);
      }
      ::-webkit-scrollbar-thumb {
        background: #1a1a1a;
        border-radius: 3px;
        border: 1px solid #333;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #00bcd4;
      }
      
      /* Utility for non-stretching columns */
      .min-h-0 {
        min-height: 0;
      }
      
      /* Custom scrollbar utility class */
      .custom-scrollbar {
        overflow-y: auto;
        scrollbar-width: thin;
        scrollbar-color: #1a1a1a rgba(0, 0, 0, 0.2);
      }
      .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.2);
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #1a1a1a;
        border-radius: 3px;
        border: 1px solid #333;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #00bcd4;
      }
      
      /* ============================================
         JARVIS RESPONSIVE CONTAINER SYSTEM
         ============================================ */
      
      /* Main container - uses dvh for dynamic viewport height */
      .jarvis-container {
        display: flex;
        flex-direction: column;
        width: 100vw;
        height: 100vh; /* Fallback */
        height: 100dvh; /* Dynamic viewport height - accounts for mobile browser chrome */
        max-height: 100dvh;
        overflow: hidden;
        padding: 0.75rem;
        gap: 0.75rem;
        box-sizing: border-box;
      }
      
      @media (min-width: 768px) {
        .jarvis-container {
          padding: 1rem;
          gap: 1rem;
        }
      }
      
      @media (min-width: 1280px) {
        .jarvis-container {
          padding: 1.5rem;
          gap: 1rem;
        }
      }
      
      /* Header - responsive flex layout */
      .jarvis-header {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid rgba(0, 188, 212, 0.2);
        padding-bottom: 0.75rem;
        gap: 0.75rem;
        flex-shrink: 0;
        min-height: 0;
      }
      
      @media (min-width: 1024px) {
        .jarvis-header {
          flex-direction: row;
          align-items: center;
        }
      }
      
      /* Branding section */
      .jarvis-branding {
        text-align: center;
        flex-shrink: 0;
      }
      
      @media (min-width: 1024px) {
        .jarvis-branding {
          text-align: left;
        }
      }
      
      /* Controls section */
      .jarvis-controls {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        flex-shrink: 0;
      }
      
      @media (min-width: 640px) {
        .jarvis-controls {
          flex-direction: row;
          gap: 1rem;
        }
      }
      
      /* Tab navigation */
      .jarvis-tabs {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.25rem;
        background: black;
        padding: 0.25rem;
        border-radius: 0.375rem;
        border: 1px solid rgba(0, 188, 212, 0.3);
        max-width: 100%;
      }
      
      .jarvis-tab {
        padding: 0.25rem 0.5rem;
        font-size: 0.65rem;
        font-weight: bold;
        border-radius: 0.25rem;
        color: #666;
        background: transparent;
        border: none;
        cursor: pointer;
        transition: all 0.2s;
        white-space: nowrap;
      }
      
      @media (min-width: 640px) {
        .jarvis-tab {
          padding: 0.375rem 0.75rem;
          font-size: 0.75rem;
        }
      }
      
      .jarvis-tab:hover {
        color: #999;
      }
      
      .jarvis-tab.active-orange {
        background: rgba(249, 115, 22, 0.4);
        color: #fb923c;
      }
      .jarvis-tab.active-cyan {
        background: rgba(0, 188, 212, 0.4);
        color: #22d3ee;
      }
      .jarvis-tab.active-purple {
        background: rgba(168, 85, 247, 0.4);
        color: #c084fc;
      }
      .jarvis-tab.active-red {
        background: rgba(239, 68, 68, 0.4);
        color: #f87171;
      }
      .jarvis-tab.active-pink {
        background: rgba(236, 72, 153, 0.4);
        color: #f472b6;
      }
      .jarvis-tab.active-green {
        background: rgba(34, 197, 94, 0.4);
        color: #4ade80;
      }
      .jarvis-tab.active-sky {
        background: rgba(14, 165, 233, 0.4);
        color: #38bdf8;
      }
      
      /* Action buttons */
      .jarvis-actions {
        display: flex;
        gap: 0.5rem;
        flex-shrink: 0;
      }
      
      .jarvis-btn-icon {
        padding: 0.5rem;
        border: 1px solid rgba(0, 188, 212, 0.2);
        border-radius: 0.375rem;
        background: black;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .jarvis-btn-icon:hover {
        background: rgba(0, 188, 212, 0.1);
      }
      
      /* Main content area */
      .jarvis-main {
        display: flex;
        flex-direction: column;
        flex: 1;
        min-height: 0;
        gap: 0.75rem;
      }
      
      @media (min-width: 1024px) {
        .jarvis-main {
          flex-direction: row;
          gap: 1rem;
        }
      }
      
      /* Sidebar (Terminal + Voice) */
      .jarvis-sidebar {
        display: flex;
        flex-direction: row;
        gap: 0.75rem;
        flex-shrink: 0;
        min-height: 0;
      }
      
      @media (min-width: 1024px) {
        .jarvis-sidebar {
          flex-direction: column;
          width: 280px;
          flex-shrink: 0;
        }
      }
      
      @media (min-width: 1280px) {
        .jarvis-sidebar {
          width: 320px;
        }
      }
      
      /* Content area */
      .jarvis-content {
        flex: 1;
        min-height: 0;
        overflow: hidden;
      }
      
      /* Tab content grid */
      .jarvis-tab-content {
        display: flex;
        flex-direction: column;
        height: 100%;
        gap: 0.75rem;
      }
      
      @media (min-width: 1024px) {
        .jarvis-tab-content {
          flex-direction: row;
        }
      }
      
      /* Primary panel (main content) */
      .jarvis-primary-panel {
        flex: 1;
        min-height: 0;
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }
      
      @media (min-width: 1024px) {
        .jarvis-primary-panel {
          flex: 2;
        }
      }
      
      /* Secondary panel (plugins + circuits) */
      .jarvis-secondary-panel {
        display: flex;
        flex-direction: row;
        gap: 0.75rem;
        min-height: 0;
        flex-shrink: 0;
      }
      
      @media (min-width: 1024px) {
        .jarvis-secondary-panel {
          flex-direction: column;
          width: 280px;
          flex: 1;
        }
      }
      
      @media (min-width: 1280px) {
        .jarvis-secondary-panel {
          width: 320px;
        }
      }
      
      /* Ensure all panels can scroll internally */
      .jarvis-primary-panel > *,
      .jarvis-secondary-panel > * {
        min-height: 0;
      }
      
      /* Small screen optimizations */
      @media (max-width: 639px) {
        .jarvis-sidebar {
          flex-direction: column;
          max-height: 35vh;
        }
        
        .jarvis-secondary-panel {
          flex-direction: column;
          max-height: 30vh;
        }
      }
      
      /* Height-based responsive adjustments */
      @media (max-height: 700px) {
        .jarvis-header {
          padding-bottom: 0.5rem;
          gap: 0.5rem;
        }
        
        .jarvis-branding p {
          display: none;
        }
        
        .jarvis-container {
          padding: 0.5rem;
          gap: 0.5rem;
        }
      }
      
      /* Very small height - ultra compact */
      @media (max-height: 500px) {
        .jarvis-tabs {
          display: none; /* Hide tabs on very short screens */
        }
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "lucide-react": "https://esm.sh/lucide-react@^0.563.0",
    "@google/genai": "https://esm.sh/@google/genai@^1.38.0",
    "uuid": "https://esm.sh/uuid@^13.0.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>